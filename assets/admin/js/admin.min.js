!function(a){a(function(){var e="widget-for-zendesk-chat-via-api";function s(){a(".ps-wfzcva-popup-overlay").removeClass("ps-wfzcva-active"),a("#ps-wfzcva-deactivate-form").trigger("reset"),a(".ps-wfzcva-popup-allow-deactivate").attr("disabled","disabled"),a(".ps-wfzcva-reason-input").hide(),a("body").removeClass("ps-wfzcva-hidden"),a(".message.error-message").hide(),a(".ps-wfzcva-pro-message").hide()}a(document).on("click",'tr[data-slug="'+e+'"] .deactivate',function(e){e.preventDefault(),a(".ps-wfzcva-popup-overlay").addClass("ps-wfzcva-active"),a("body").addClass("ps-wfzcva-hidden")}),a(document).on("click",".ps-wfzcva-popup-button-close",function(){s()}),a(document).on("click",".ps-wfzcva-serveypanel,tr[data-slug='"+e+"'] .deactivate",function(a){a.stopPropagation()}),a(document).click(function(){s()}),a(".ps-wfzcva-reason label").on("click",function(){a(this).find('input[type="radio"]').is(":checked")&&a(this).next().next(".ps-wfzcva-reason-input").show().end().end().parent().siblings().find(".ps-wfzcva-reason-input").hide()}),a('input[type="radio"][name="ps-wfzcva-selected-reason"]').on("click",function(e){a(".ps-wfzcva-popup-allow-deactivate").removeAttr("disabled"),a(".ps-wfzcva-popup-skip-feedback").removeAttr("disabled"),a(".message.error-message").hide(),a(".ps-wfzcva-pro-message").hide()}),a(".ps-wfzcva-reason-pro label").on("click",function(){a(this).find('input[type="radio"]').is(":checked")&&(a(this).next(".ps-wfzcva-pro-message").show().end().end().parent().siblings().find(".ps-wfzcva-reason-input").hide(),a(this).next(".ps-wfzcva-pro-message").show(),a(".ps-wfzcva-popup-allow-deactivate").attr("disabled","disabled"),a(".ps-wfzcva-popup-skip-feedback").attr("disabled","disabled"))}),a(document).on("submit","#ps-wfzcva-deactivate-form",function(s){s.preventDefault();var t=a('input[type="radio"][name="ps-wfzcva-selected-reason"]:checked').val(),i="",p=a(".ps_widget_for_zendesk_chat_via_api_deactivation_nonce").val();if(2==t?i=a(this).find("input[type='text'][name='better_plugin']").val():7==t&&(i=a(this).find("input[type='text'][name='other_reason']").val()),(7==t||2==t)&&""==i){a(".message.error-message").show();return}a.ajax({url:ajaxurl,type:"POST",data:{action:"ps_widget_for_zendesk_chat_via_api_deactivation",reason:t,reason_detail:i,ps_widget_for_zendesk_chat_via_api_deactivation_nonce:p},beforeSend:function(){a(".ps-wfzcva-spinner").show(),a(".ps-wfzcva-popup-allow-deactivate").attr("disabled","disabled")}}).done(function(){a(".ps-wfzcva-spinner").hide(),a(".ps-wfzcva-popup-allow-deactivate").removeAttr("disabled"),window.location.href=a('tr[data-slug="'+e+'"] .deactivate a').attr("href")})}),a(".ps-wfzcva-popup-skip-feedback").on("click",function(s){window.location.href=a('tr[data-slug="'+e+'"] .deactivate a').attr("href")}),a(".ps-wfzcva-subscription-form").on("submit",function(e){e.preventDefault(),!a(".ps-wfzcva-subscription-callout").hasClass("ps-wfzcva-ajaxing")&&(a(".ps-wfzcva-subscription-callout").addClass("ps-wfzcva-ajaxing"),a.ajax({url:ajaxurl,type:"POST",dataType:"JSON",data:{action:"widget_for_zendesk_chat_via_api_handle_subscription_request",email:a(".ps-wfzcva-subscription-form input").val(),from_callout:1},success:function(e){a(".ps-wfzcva-subscription-callout-main").hide(),a(".ps-wfzcva-subscription-callout-thanks").show()}}).fail(function(){a(".ps-wfzcva-subscription-error").show()}).always(function(){a(".ps-wfzcva-subscription-callout").removeClass("ps-wfzcva-ajaxing")}))}),a(".ps-wfzcva-subscription-skip").on("click",function(e){e.preventDefault(),a(".ps-wfzcva-subscription-callout-wrapper").removeClass("open"),a.ajax({url:ajaxurl,type:"POST",dataType:"JSON",data:{action:"widget_for_zendesk_chat_via_api_subscription_popup_shown"}})})})}(jQuery);